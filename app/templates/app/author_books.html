{% extends 'app/base.html' %}
{% load static %}

{% block title %}{{ author.name }} {{ author.surname }} kitoblari{% endblock title %}

{% block content %}

<h2 class="section-title">{{ author.name }} {{ author.surname }} kitoblari</h2>

{% if books %}

<div class="books-grid">
    {% for book in books %}
    <div class="book-card">
        <img src="{{ book.book_pic.url }}" alt="{{ book.title }}">
        <h3>{{ book.title }}</h3>
        <p class="description">{{ book.description|truncatewords:25 }}</p>
        <a href="{% url 'book_detail' book.pk %}" class="detail-btn">Batafsil</a>
</div>
{% endfor %}


</div>
{% else %}
<p>Hozircha ushbu yozuvchiga tegishli kitoblar mavjud emas.</p>
{% endif %}

<style>
.books-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}
.book-card {
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 15px;
    background: #fff;
    transition: transform 0.2s, box-shadow 0.2s;
}
.book-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.book-card img {
    width: 100%;
    height: auto;
    border-radius: 8px;
}
.book-card h3 {
    margin-top: 10px;
    font-size: 1.2rem;
}
.description {
    font-size: 0.95rem;
    color: #555;
    margin: 10px 0;
}
.detail-btn {
    display: inline-block;
    margin-bottom: 15px;
    padding: 6px 12px;
    background-color: #007bff;
    color: #fff;
    border-radius: 6px;
    text-decoration: none;
}
.detail-btn:hover {
    background-color: #0056b3;
}

.comment-section { margin-top: 20px; }
.comment-section h3 { margin-bottom: 10px; font-size: 1.1rem; }
.form-group textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; resize: vertical; }
.btn-submit { margin-top: 10px; padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; }
.btn-submit:hover { background-color: #218838; }

.comments-list { margin-top: 15px; }
.comment-card { border-bottom: 1px solid #eee; padding: 10px 0; }
.comment-card p { margin: 3px 0; }
.comment-card strong { color: #333; }
</style>

{% endblock content %}
